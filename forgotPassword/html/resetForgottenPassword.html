<script src="forgotPassword/js/resetForgottenPasswordController.js" type="text/javascript"></script>
<div class="body-container">
</div>

<div class="center">
    <div class="col-lg-offset-4 col-lg-3 col-xl-offset-4 col-xl-4 col-sm-offset-3 col-sm-6 col-xs-offset-2 col-xs-8 col-md-offset-4 col-md-4 login-theme-wrapper">
        <div class="row">
            <div class="col-md-12 logo-img">
                <img src="commons/images/logo.png" alt=""/>
            </div>
        </div>


        <div class="login-container" ng-show="codeResults.isGeneratedCodeValid === false">
            <div class="row login-content">
                <div>
                    <div class="login-error-container" ng-class="{'fade-in':codeResults}">
                        <div class="col-md-12">
                            <div class="alert alert-danger" role="alert"> 
                                Invalid Code
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <form name="resetForgottenPasswordForm" class="login-container" ng-show="codeResults.isGeneratedCodeValid === true">
            <div class="row login-header">
                <div class="col-md-12" ng-hide="emailSent">
                    <p class="text-center text-capitalize">
                        create new password
                    </p>
                </div>
            </div>
            <div class="row login-content">
                <div class="login-error-container" ng-show="serverError || (afterSubmit === true && (!doesPasswordsMatch() || resetForgottenPasswordForm.$invalid))" 
                     ng-class="{'fade-in':serverError || (afterSubmit === true && (!doesPasswordsMatch() || resetForgottenPasswordForm.$invalid))}">
                    <div class="col-md-12 ">
                        <div class="alert alert-danger" role="alert"> 
                            <a class="close close-alert" data-dismiss="alert" aria-label="close" ng-click="serverError = '';afterSubmit = false;">&times;</a>
                            Please recheck your password.
                        </div>
                    </div>
                </div>
                <div>
                    <div class="col-md-12 input-icons margin-bottom-10" >

                        <input type="password" class="form-control" placeholder="Create New Password" 
                               name="password" ng-model="resetPasswordObj.newPassword" ng-minlength="8" autocomplete="off"
                               ng-maxlength="14" ng-trim="true" ng-required="true">
                        <i class="fa fa-lock"></i>
                    </div>
                    <div class="col-md-12 input-icons margin-bottom-10">

                        <input type="password" class="form-control" placeholder="Confirm Password" 
                               name="repeatedPassword" ng-model="resetPasswordObj.repeatedPassword" ng-minlength="8" autocomplete="off"
                               ng-maxlength="14" ng-trim="true" ng-required="true">
                        <i class="fa fa-lock"></i>
                    </div>
                    <div class="col-md-12 text-center margin-top-10 margin-bottom-10">
                        <a type="submit" class="btn-large login-btn waves-effect waves-light" ng-click="changePassword()">
                            SUBMIT
                        </a>
                    </div>
                    <div class="col-md-12 text-center">
                        <h5><a class='link-border-fade' ui-sref="login"><b>Back to login</b></a></h5>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
